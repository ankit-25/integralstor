{% extends 'shares_base.html' %}

{%block tab_header %}
  ISCSI targets
{%endblock%}

{% block inside_content %}

  {% if not target_list %}
    No ISCSI targets appear to have been created. <br><br>
  {%else %}
    <table class="table table-striped ">
      <thead>
        <tr>
          <th> Target ID </th>
          <th> Target Name </th>
          <th> LUNs </th>
          <th> Details </th>
        </tr>
      </thead>
      {%for target in target_list %}
        <tr>
          <td> {{target.tid}} </td>
          <td> {{target.iqn}} </td>
          <td>
            {%for lun in target.luns %}
              {%if lun.type == 'disk'%}
                {{lun.path}}<br>
              {%endif%}
            {%endfor%}
          </td>
          <td>
            <a href="/view_iscsi_target?name={{target.iqn}}" role="button" class="btn btn-info btn-xs"> View details</a>
          </td>
        </tr>
      {%endfor%}
    </table>
    <br>
  {%endif%}
  <p>
  <a href="/create_iscsi_target/" class="btn btn-primary btn-sm"> Create an ISCSI Target </a>

{%endblock%}

{%block help_header%}
  View ISCSI Targets
{%endblock%}

{%block help_body%}
  <p>
  </p>
{%endblock%}

{% block tab_active %}
  <script>
    make_tab_active("view_iscsi_targets_tab")
  </script>
{% endblock %}
